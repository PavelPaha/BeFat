@page "/profile"

@using BeeFat.Helpers
@inherits LayoutComponentBase
@inject UserProfileHelper UserProfileHelper;
@inject NavigationManager NavigationManager;

@rendermode InteractiveServer

<h1>Профиль пользователя</h1>

@{
   var url = "track/pick";
   var userModel = UserProfileHelper.UserModel;
}

<Blazorise.Modal @ref="UserProfileHelper.Modal" Title="Modal title" Class="popup_window">
    <div>
        <div>Вы уверены, что хотите сохранить изменения?</div>
        <Blazorise.Button Style="background-color: #c2cb88;" @onclick="() => { UserProfileHelper.Save(); }">Да</Blazorise.Button>
    </div>
</Blazorise.Modal>

<div>
   <label for="firstName">Имя:</label>
   <input type="text" id="firstName" @bind="userModel.PersonName.FirstName" />
</div>

<div>
   <label for="lastName">Фамилия:</label>
   <input type="text" id="lastName" @bind="userModel.PersonName.LastName" />
</div>

<div>
   <label for="gender">Пол:</label>
   <select id="gender" @bind=@UserProfileHelper.GenderString>
       <option value="Male">Мужской</option>
       <option value="Female">Женский</option>
   </select>
</div>


<div>
   <label for="weight">Масса (в кг):</label>
   <input type="number" id="weight" @bind="userModel.Weight" />
</div>

<div>
   <label for="height">Рост (в см):</label>
   <input type="number" id="height" @bind="userModel.Height" />
</div>

<div>
   <label for="gender">Тип активности:</label>
   <select id="gender" @bind=@UserProfileHelper.ActivityString>
      @{
         foreach (var activityName in StaticBeeFat.ActivityToLevel.Keys)
         {
            <option value="@(activityName)">@activityName</option>
         }
      }
   </select>
</div>

<Button Style="background-color: #c2cb88;" @onclick="() => { UserProfileHelper.Modal.Show();}">Сохранить </Button>


<Button Style="background-color: #c2cb88;" @onclick="() => { NavigationManager.RedirectTo(url); }">Подобрать подходящие треки</Button>



